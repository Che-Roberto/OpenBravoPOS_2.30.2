<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="inventory1" pageWidth="792" pageHeight="612" orientation="Landscape" columnWidth="752" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" resourceBundle="inventory1_messages" uuid="86bf0c0f-9b2a-457d-9552-d9045e3c9f81">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[SELECT
	p.Reference "Reference",
	l.ID AS "Location_ID",
	l.Name AS "LocationName",
	p.Name "ProductName",
	c.ID "Category_ID",
	c.Name "CategoryName",
	sc.Units "Units",
	p.PriceBuy "PriceBuy",
	p.PriceSell "PriceSell",
	COALESCE(p.StockVolume, 0) "StockVolume",
	COALESCE(p.StockCost, 0) "StockCost",
	COALESCE(sl.StockSecurity,0 )"StockSecurity",
	COALESCE(sl.StockMaximum,0 )"StockMaximum"
FROM Products p
INNER JOIN Categories c ON (p.Category = c.ID)
INNER JOIN StockCurrent sc ON (p.ID = sc.Product)
INNER JOIN Locations l ON (sc.Location = l.ID)
LEFT JOIN (
	SELECT
		ID,
		Location,
		Product,
		StockSecurity,
		StockMaximum
	FROM StockLevel
) sl ON (sl.Location = l.ID AND p.ID = sl.Product)
ORDER BY
	sc.Location, c.Name, p.Name]]>
	</queryString>
	<field name="Reference" class="java.lang.String"/>
	<field name="Location_ID" class="java.lang.String"/>
	<field name="LocationName" class="java.lang.String"/>
	<field name="ProductName" class="java.lang.String"/>
	<field name="Category_ID" class="java.lang.String"/>
	<field name="CategoryName" class="java.lang.String"/>
	<field name="Units" class="java.lang.Double"/>
	<field name="PriceBuy" class="java.lang.Double"/>
	<field name="PriceSell" class="java.lang.Double"/>
	<field name="StockVolume" class="java.lang.Double"/>
	<field name="StockCost" class="java.lang.Double"/>
	<field name="StockSecurity" class="java.lang.Double"/>
	<field name="StockMaximum" class="java.lang.Double"/>
	<group name="Location">
		<groupExpression><![CDATA[$F{Location_ID}]]></groupExpression>
		<groupHeader>
			<band height="21">
				<textField>
					<reportElement x="2" y="0" width="609" height="20" uuid="49f9e889-7c6d-4e96-a073-9ce0a2af7189"/>
					<box>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="12" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{LocationName}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="50"/>
		</groupFooter>
	</group>
	<group name="Category">
		<groupExpression><![CDATA[$F{Category_ID}]]></groupExpression>
		<groupHeader>
			<band height="21">
				<textField>
					<reportElement x="18" y="0" width="593" height="20" uuid="740ee97c-ca75-4188-976e-ccd14fdf4096"/>
					<box>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="12" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CategoryName}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="50"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="52" splitType="Stretch">
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField-13" mode="Transparent" x="299" y="0" width="172" height="28" forecolor="#000000" backcolor="#FFFFFF" uuid="bb25ad33-6e78-4c72-81e7-28fad40c9c1e"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
					<font fontName="Dialog" size="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{label.title}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="125" splitType="Stretch"/>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
